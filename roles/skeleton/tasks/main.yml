---
- name: setup skeleton
  command: stow -v -t ~ -d {{ role_path }}/files/{{ item }} -S . --no-folding
  register: output
  changed_when: '"LINK" in output.stderr'
  loop:
  - ssh
  - tmux
  - zsh
  - vim-plug

- name: tmux TPM
  ansible.builtin.git:
    repo: https://github.com/tmux-plugins/tpm
    dest: ~/.tmux/plugins/tpm
    update: true
    force: true

- name: vim plug
  ansible.builtin.get_url:
    url: https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
    dest: ~/.vim/autoload/plug.vim
    mode: u=rw,g=r,o=r
