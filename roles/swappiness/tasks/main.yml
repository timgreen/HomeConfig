---
- block:

  - name: ensure sysctl
    import_role:
      name: package
    vars:
      package_name:
        # https://command-not-found.com/sysctl
        Archlinux: procps-ng
        default: procps

  - name: set swappiness value to {{ swappiness }}
    ansible.posix.sysctl:
      name: vm.swappiness
      value: '{{ swappiness }}'
      state: present
    become: yes
    tags:
    - skip_in_ci  # not supported in the container

  tags:
  - swappiness
